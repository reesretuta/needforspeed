function createCookie(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*24*60*60*1e3);r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"}function readCookie(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null}function eraseCookie(e){createCookie(e,"",-1)}function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function getFacebookPictureUrl(e){return"//graph.facebook.com/"+e+"/picture?width=200&height=200"}function showModal(e,t){if(info.ismobile){window.scrollTo(0,0);typeof t=="function"?e.fadeIn({complete:t}):e.fadeIn();$("nav, .full-page-wrapper, footer").addClass("modal-active")}else{typeof t=="function"&&e.on("shown.bs.modal",function(){$(this).off("shown.bs.modal");t()});e.modal("show")}}function hideModal(e,t){if(info.ismobile){$("nav, .full-page-wrapper, footer").removeClass("modal-active");typeof t=="function"?e.fadeOut({complete:t}):e.fadeOut()}else{typeof t=="function"&&e.on("hidden.bs.modal",function(){$(this).off("hidden.bs.modal");t()});e.modal("hide")}}function getSoundUrl(e){var t="";switch(parseInt(e)){case 0:t="/media/sounds/Black_generic_Start";break;case 1:t="/media/sounds/ShelbyGT500_2013_Start";break;case 2:t="/media/sounds/Gold_Generic_Start";break;case 3:t="/media/sounds/Mustang_2012_Start";break;case 4:t="/media/sounds/ShelbyGT500_Launch_Start";break;case 5:t="/media/sounds/Yellow_Generic_Start"}t+=typeof Modernizr=="undefined"?".mp3":typeof Modernizr.audio=="undefined"?".mp3":Modernizr.audio.ogg?".ogg":Modernizr.audio.mp3?".mp3":".m4a";return t}function getMobilePath(e){return info.ismobile?e.replace("/media/","/media/mobile/"):e}function loadMask(e){var t=$('<div class="load-overlay"></div>');$(e).append(t);t.fadeIn(function(){spinner=(new Spinner({color:"#ddd",shadow:!0})).spin($(e).get(0))})}function removeMask(e){$(e).find(".load-overlay").remove();try{spinner.stop()}catch(t){setTimeout(function(){spinner.stop()},500)}}window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""));$.fn.extend({pulsate:function(e,t,n,r,i){r>0?$(this).fadeOut(e,function(){$(this).fadeIn(t,function(){$(this).pulsate(e*n,t*n,n,r-1,i)})}):typeof i=="function"&&i();return $(this)},transitionClass:function(e,t,n){this.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(e){if(typeof n!="undefined"){if($(e.target).attr("id")==n){$(this).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");typeof t=="function"&&t()}}else if(e.target==e.currentTarget){$(this).off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd");typeof t=="function"&&t()}});this.toggleClass(e);return this},nextOrFirst:function(e,t){var n=this.next(e);return n.length?n:t?t.filter(e+":first"):this.prevAll(e).last()},prevOrLast:function(e,t){var n=this.prev(e);return n.length?n:t?t.filter(e+":last"):this.nextAll(e).last()}});var Semaphore=function(e,t){t?this.lock=t:this.lock=0;this.func=e;this.params=null};Semaphore.prototype={call:function(){if(this.lock===0){this.func&&this.func(this.params);return!0}return!1},acquire:function(e){typeof e=="number"?this.lock+=e:this.lock++;return this.call()},release:function(e){typeof e=="number"?this.lock-=e:this.lock--;return this.call()},unset:function(){this.func=null;this.params=null},setParams:function(e){this.params=e},setFunction:function(e){this.func=e}};var SoundPlayer=function(e){if(arguments.callee._singletonInstance)return arguments.callee._singletonInstance;arguments.callee._singletonInstance=this;var t=this,n=!0,r={},i=.6;typeof e!="undefined"&&$.each(e,function(e,n){t.add(n)});this.on=function(){n=!0};this.off=function(){n=!1};this.add=function(e){typeof r[e]=="undefined"&&(r[e]=new Audio(e))};this.play=function(e){this.add(e);if(n){r[e].volume=i;r[e].play()}};this.setVolume=function(e){i=e}};$(function(){if(typeof info!="undefined"&&!info.ismobile){var e=new Image;e.src="/media/images/dashboard/customize/bg.jpg";e.src="/media/images/dashboard/customize/detail-ctr-fill.png";e.src="/media/images/dashboard/leaderboard/map"+info.user.phase+".png";e.src="/media/images/dashboard/leaderboard/leaderbg-left.png";e.src="/media/images/dashboard/leaderboard/leaderbg-middle.png"}});